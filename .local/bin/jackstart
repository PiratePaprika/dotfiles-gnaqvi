#!/bin/bash

function start() {
    jack_control start
    jack_control ds alsa
}

function stop() {
    jack_control stop
}

function generic() {
    stop
    jack_control dps device hw:Generic
    jack_control dps rate 48000
    jack_control dps nperiods 2
    jack_control dps period 2048
    start
}

function ux2() {
    stop
    jack_control dps device hw:PODStudioUX2
    jack_control dps rate 48000
    jack_control dps nperiods 3
    jack_control dps period 256
    start
}

CARDS=$(aplay -l)
[ "grep -i 'UX2' <<< $CARDS" ] && ux2 || generic

sleep 10
qjackctl &
