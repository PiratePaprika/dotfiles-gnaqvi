#!/bin/bash

function start() {
    jack_control start
    jack_control ds alsa
}

function generic() {
    start
    jack_control dps device hw:Generic
    jack_control dps rate 48000
    jack_control dps nperiods 2
    jack_control dps period 2048
}

function ux2() {
    start
    jack_control dps device hw:PODStudioUX2
    jack_control dps rate 48000
    jack_control dps nperiods 2
    jack_control dps period 64
}

CARDS=$(aplay -l)
[ "grep -i 'UX2' <<< $CARDS" ] && ux2 || generic

sleep 10
qjackctl &